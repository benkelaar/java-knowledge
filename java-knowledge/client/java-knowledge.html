<head>
  <title>Java knowledge classifier</title>
</head>
<body>
  <header>
      {{> loginButtons}}
  </header>
  {{> page}}
</body>

<template name="page">
  {{#if currentUser}}
    {{> labels}}
    {{> skills}}
  {{/if}}
</template>

<template name="labels">
  <div id="labelList">
    {{> labelList labels}}
    {{> addBox id="addLabel"}}
    <img id="dragula" src="/images/dragula.png" />
  </div>
  <br />
</template>

<template name="skills">
  <table id="skills">
    <thead>
      <th>I know</th>
      <th>what it is</th>
      <th>how to use it</th>
      <th>when to use it</th>
      <th>Labels</th>
    </thead>
    <tfoot>
      <tr>
        <td>{{> addBox id="addSkill"}}</td>
      </tr>
      <tr>
        <td>Total score:</td>
        <td colspan=4>{{score}}</td>
      </tr>
    </tfoot>
    <tbody>
      {{#each skills}}
        <tr>
          <td>{{name}}</td>
          <td><input data-skill="{{name}}" data-question="what" type="checkbox" checked="{{what}}" /></td>
          <td><input data-skill="{{name}}" data-question="how"  type="checkbox" checked="{{how}}"  /></td>
          <td><input data-skill="{{name}}" data-question="when" type="checkbox" checked="{{when}}" /></td>
          <td data-skill="{{name}}">{{> labelList labels}}</td>
        </tr>
      {{/each}}
    </tbody>
  </table>
</template>

<template name="labelList">
  {{#each this}}
    <span class="label" style="background-color: {{colour}}">{{name}}</span>
  {{/each}}
</template>

<template name="addBox">
  <div id={{id}} class="addBox"><input type="textbox" /><img src="/images/button_add.png" /></div>
</template>
